<app-header title='Serial Terminal'></app-header>

<ion-content scrollY="true">
<ion-row [ngClass]="{'not-connected-style' : !serialData.connected, 'connected-style': serialData.connected}">
<ion-col>
<div class="ion-text-center">
  <ion-label  lines="none" *ngIf="serialData.connected"><h2><strong>CONNECTED</strong></h2><ion-icon size="large" name="terminal"></ion-icon></ion-label>
  <ion-label  lines="none" *ngIf="!serialData.connected"><h2><strong>NOT CONNECTED</strong></h2><ion-icon size="large" name="flash-off-outline"></ion-icon></ion-label>
</div>
</ion-col>
</ion-row>
  <ion-row *ngIf="serialData.connected" class="terminal">
    <ion-col size='9'>
        <ion-input type="text" class="input-message" [(ngModel)]="serialData.message" name="message"></ion-input>
    </ion-col>
    <ion-col size='3'>
      <ion-button expand="block" type="submit" color='dark' size='medium' class="send-btn" [disabled]="!serialData.connected">
        <ion-icon name="enter-outline"></ion-icon>
      </ion-button>
    </ion-col>
  </ion-row>

<ion-row *ngIf="!serialData.connected">
    <ion-card>
      <ion-card-header>
        <ion-card-subtitle class="text-center txt-white">Not USB device detected</ion-card-subtitle>
        <ion-card-title class="text-center txt-lightgray">Serial Connection</ion-card-title>
      </ion-card-header>
      <ion-card-content class="txt-white">
        <div class="text-center">
          <ion-icon name="warning-outline" class="font-24"></ion-icon>
        </div>
        Connect your smartphone to external USB device. If you have already plug-in it,
        check out connection again, please.
      </ion-card-content>
    </ion-card>
</ion-row> 

<ion-row *ngIf="serialData.connected">
  <ion-col size='12'>
  <ion-card>
    <ion-card-header>
      <ion-card-subtitle class="text-center txt-white">USB Terminal Console</ion-card-subtitle>
        <ion-card-title class="text-center txt-lightgray">Serial</ion-card-title>
    </ion-card-header>
    <ion-card-content class="terminal">
      <ion-textarea class="terminal"> {{serialData.fullStr}} </ion-textarea>
    </ion-card-content>
  </ion-card>
</ion-col>

</ion-row>
</ion-content>



